<ion-header>
  <ion-navbar>
    <ion-title><p>{{item.properties.title}}</p></ion-title>
  </ion-navbar>
</ion-header>

<ion-content>

  <ion-card>

    <ion-item >
      <ion-avatar item-left>
        <img data-src="{{item.properties.user.profile_picture}}"/>
      </ion-avatar>

      <ion-row>
        <ion-col class="date">
          <b>{{item.properties.user.username}}</b>
        </ion-col>
        <ion-col>
          <p>{{item.properties.created_at | amTimeAgo}}</p>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col width-75>
          <span class="address">{{item.properties.address}}</span>
        </ion-col>
        <ion-col>
          <button ion-button clear (click)="showMap()">
            <ion-icon name="map"></ion-icon>
          </button>
        </ion-col>

      </ion-row>
    </ion-item>


    <ion-item>
      <ion-slides pager>
        <ion-slide *ngFor="let image of item.properties.images">
          <img src="{{image.itemshot.thumbnail__400x400}}">
        </ion-slide>
      </ion-slides>

      <ion-row>
        <ion-col>
          <p class="price">{{item.properties.price}} 원</p>
        </ion-col>
      </ion-row>
    </ion-item>

    <ion-card-content><p>{{item.properties.title}}</p>{{item.properties.memo}}</ion-card-content>

    <ion-item>
      <ion-row>
        <ion-col>
          <div *ngIf="comments"><p>{{comments.length}} 댓글</p></div>
        </ion-col>
        <ion-col>
          <div *ngIf="comments"><p>112 방문</p></div>
        </ion-col>
      </ion-row>
    </ion-item>

    <ion-list>
      <ion-item *ngFor="let comment of comments">
        <ion-avatar item-left>
          <ion-icon name="person"></ion-icon>
        </ion-avatar>

        <ion-row>
          <h4><b>{{ comment.user_name }}</b>&nbsp;{{ comment.comment }}</h4>
        </ion-row>

        <ion-row>
          <p>{{ comment.submit_date | amTimeAgo}}</p>
        </ion-row>

      </ion-item>
    </ion-list>

  </ion-card>

</ion-content>

<ion-footer>
  <ion-toolbar>
    <form [formGroup]="postForm" (ngSubmit)="postComment()">

      <ion-item>
        <ion-input formControlName="comment" placeholder="댓글 달기" name="comment" class="comment"></ion-input>
        <button ion-button outline item-right>등록</button>
      </ion-item>
    </form>
  </ion-toolbar>
</ion-footer>
